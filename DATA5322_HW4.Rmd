
## Import Libraries
```{r}
library("tidyr")
library("dplyr")
```

## Load Data
```{r}
load("Data/data2000.RData")
load("Data/data2010.RData")
```

## Unsupervised Learning: PCA
```{r}
# Function to perform PCA on each data set (2000 and 2010)
perform_pca <- function(df, year) {
  
  # perform PCA (scale the data)
  pr.out <- prcomp(df, scale = TRUE)
  
  # get loadings of each principal component
  print(data.frame(pr.out$rotation))
  
  # plot the first two principal components (arrows scaled to represent loadings)
  biplot(pr.out, scale = 0)
  
  # get variance explained by each principal component
  pr.var <- pr.out$sdev^2     # variance
  pve <- pr.var / sum(pr.var) # proportion of total variance
  
  # plot these
  par(mfrow = c(1, 2))
  plot(pve, xlab = "Principal Component", ylab = "Proportion", ylim = c(0, 1), type = "b")
  plot(cumsum(pve), xlab = "Principal Component", ylab = "Cumulative Proportion", ylim = c(0, 1), type = "b")
  mtext(paste("Variance Explained", "-", year), side = 3, line = -1, outer = TRUE)
}
```

```{r}
# 2000 data
perform_pca(df2000num, "2000")
```

```{r}
# 2010 data
perform_pca(df2010num, "2010")
```

## Unsupervised Learning: SVD
```{r}
# 2000
dfscale00 <-  scale(df2000num) # scale data
s00 <- svd(dfscale00)          # perform SVD
data.frame(s00$v)              # loadings (same as PCA)

# 2010
dfscale10 <-  scale(df2010num) # scale data
s10 <- svd(dfscale10)          # perform SVD
data.frame(s10$v)              # loadings (same as PCA)

# first two singular vectors
par(mfrow = c(1, 2))
plot(s00$u[,1], s00$u[,2], col = as.factor(df2000$region), xlab = "First", ylab = "Second")
plot(s10$u[,1], s10$u[,2], col = as.factor(df2010$region), xlab = "First", ylab = "Second")
```

## Unsupervised Learning: Clustering

### K-Means

### Hierarchical

## Supervised Learning: Decision Trees
