
```{r}
# import libraries
library("tidyr")
```


### Data
```{r}
load('Data/data1980.RData')
load('Data/data2012.RData')

View(data1980)
View(data2012)
```

Data Cleaning

1980
```{r}
# remove columns that are mostly null
df1980 <- subset(data1980,  select = -c(com_ppp, com_us, gdpcom_ppp, popcom_ppp, totcom_ppp, transp_ppp, transp_us, gdptransp_ppp, 
                                        poptransp_ppp, tottransp_ppp, mining_ppp, mining_us, gdpmining_ppp,popmining_ppp, 
                                        totmining_ppp, fuel_ppp, fuel_us, gdpfuel_ppp, gdpmining_ppp, popfuel_ppp, totfuel_ppp))

# remove rows with nulls
df1980 <- na.omit(df1980)

#View(df1980)
```

2012
```{r}
# remove columns that are mostly null
df2012 <- subset(data2012,  select = -c(com_ppp, com_us, gdpcom_ppp, popcom_ppp, totcom_ppp, transp_ppp, transp_us, gdptransp_ppp, 
                                        poptransp_ppp, tottransp_ppp, mining_ppp, mining_us, gdpmining_ppp,popmining_ppp, 
                                        totmining_ppp, fuel_ppp, fuel_us, gdpfuel_ppp, gdpmining_ppp, popfuel_ppp, totfuel_ppp))

# remove rows with nulls
df2012 <- na.omit(df2012)

View(df2012)
```

```{r}
df1980$country

df2012$country
```



### Unsupervised Learning: PCA
```{r}
# get variance of each column (2)
apply(df, 2, var)
```

```{r}
# perform PCA (scale the data)
pr.out <- prcomp(df, scale = TRUE)
```

```{r}
# get loadings of each principal component
pr.out$rotation
```

```{r}
# plot the first two principal components (arrows scaled to represent loadings)
biplot(pr.out, scale = 0)
```

```{r}
pr.var <- pr.out$sdev^2     # variance explained by each principal component
pve <- pr.var / sum(pr.var) # proportion of total variance explained by each principal component

pr.var
pve

# plot these
par(mfrow = c(1, 2))
plot(pve, xlab = "Principal Component", ylab = "Proportion", ylim = c(0, 1), type = "b")
plot(cumsum(pve), xlab = "Principal Component", ylab = "Cumulative Proportion", ylim = c(0, 1), type = "b")
mtext("Variance Explained", side = 3, line = -1, outer = TRUE)
```


### Unsupervised Learning: Clustering

#### K-Means

#### Hierarchical


### Supervised Learning: ADD
